[자세한 정리 링크](https://www.notion.so/Indego-df0cb22caa03408380f3a3d597cccd18?pvs=4)

1. 코드 분할을 통한 초기 업로드 시간 단축 : 103ms -> 93ms

   - 인증 유저와 비인증 유저간의 사용하지 않는 라이브러리를 확인
   - 해당 라이브러리의 import 지점을 확인하여 React.lazy를 이용하여 코드를 분할(마이페이지)
   - 인증 유저가 마이페이지에 진입 시 추가 리소스를 다운받으면 대기시간이 발생되기 때문에 유저가 로그인 상태라면 분할된 파일을 preload하여 마이페이지 진입 시 리소스 업로드로 인한 대기시간을 방지
   - 기존 번들파일 로드 시간 : `103ms -> 93ms` : 리소스 다운로드 시간 10ms 단축

2. 마이페이지 : 관심사 분리와 useMemo, useCallback를 이용한 불필요한 렌더링과 렌더링 시간 단축
   모달 open : **1.1ms → 0.5ms**, 모달 close : 0.6ms → 0.2ms

- **관심사 분리**
  - 모달의 상태를 마이페이지 최상위에서 관리함으로써 모달의 상태에 따른 페이지 전체 리렌더링 현상 발생
  - modal 관련 컴포넌트(list,modal,상태)들을 관리하는 컴포넌트를 제작하여, profile의 리렌더링 방지
- useMemo,useCallback을 이용한 메모이제이션 기법 도입
  - 모달을 on-off 시 함수는 일관된 동작으로 동작된다.
  - list의 경우에는 페이지네이션 동작이 이뤄지지 않을 경우 동일한 값을 가진다.
  - 따라서 함수-useCallback, listComponent-React.memo를 이용하여 props가 변경되지 않았을 경우에는 항상 동일한 결과값을 반환하도록 하였다.

3. 인터뷰 작성 페이지 : 관심사 분리,useCallback를 통한 불필요한 리렌더링 항목 제거

   - `문제가 표시되는 고정적인 항목`과 `문제를 작성하고 제출하는 상태`를 분리
   - `문제 제출`, `다음 문제` 함수의 경우에는 문제가 변경되지 않은 한 동일한 로직을 유지함으로 리렌더링 될 필요가 없기에 useCallback을 이용
   - 버튼의 경우에도 props들이 리렌더링 되지 않으면 값을 그대로 사용하면 되기 때문에 React.memo를 적용하여 불필요한 리렌더링 방지

4. 메인페이지 최적화 : selector, 관심사 분리을 통한 리렌더링 항목 개선

   1. 컴포넌트별 관심사 분리 :
      - 로고, 문구와 같은 고정된 데이터와 상태가 변경되는 컴포넌트를 확인하여 분리시킴
   2. 버튼의 리코일 구독 상태 변경 : selector
      - 버튼의 경우에는 선택된 스택 개수에 의해 상태가 업데이트 됨.
        선택된 스택 항목을 구독할 경우 스택이 선택될때마다 리렌더링 현상이 발생
      - selector를 이용하여 결과가 이전과 같다면 추가적인 렌더링이 되지 않도록 방지

   - 1과 2의 과정을 통해 리코일 상태 변경으로 인한 메인페이지 전체가 리렌더링 되는 현상을 방지. **최대 1.0ms → 0.4ms** 까지 감소

5. 메인페이지 최적화 : 추천 스택을 개별 상태로 관리하여 리코일 상태 변경에 따른 추천 스택 전체 리렌더링 방지 : 최대 9개 항목의 리렌더링 방지

   - 추천 스택의 on-off 상태를 선택한 상태와 비교함으로써, on-off 가 업데이트 될때마다 추천 스택 전체가 리렌더링 되는 현상 발생
   - `atomFamily`를 이용하여 스택별 상태를 제작하고, 상태를 조회하여 on-off 상태 변경시 추천 스택 전체가 리렌더링 되는 것을 방지
   - useRecoilCallback을 이용하여 상태를 구독하지 않고도 업데이트 할 수 있도록 변경.

6. 메인페이지 최적화 : useRecoilCallback을 이용하여 searchInput의 상태 구독 해지
   - searchInput에서 유효성 검사를 위해 선택한 스택들(리코일 상태)을 구독하고 있었음.
   - 이 때문에 스택 선택시 searchInput이 리렌더링 되는 현상이 발생
   - 스택 선택 시 스택 렌더링 관련해서는 기본 0.2ms 시간이 발생하는 데, searchInput의 렌더링 시간 때문에 0.4ms의 렌더링 시간이 발생됨.
   - searchInput에서의 stack 추가 로직을 useRecoilCallback의 snapshot을 이용해서 선택된 항목을 확인하고,유효성 검사를 진행하도록 하여 searchInput과 recoil과의 구독을 해지함.
   - 이를 통해 스택 선택 시 searchInput이 리렌더링 되지 않아 렌더링 시간을 0.4ms → 0.2ms 까지 감소
